#!/usr/bin/env python3
"""
CyMind UI æ¼”ç¤ºè„šæœ¬
å±•ç¤ºæ–°çš„ç°ä»£åŒ–ç”¨æˆ·ç•Œé¢
"""

import webbrowser
import time
import requests
import json

def print_ui_banner():
    """æ‰“å°UIæ¼”ç¤ºæ¨ªå¹…"""
    banner = """
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                ğŸ¨ CyMind v2.0.0 UI æ¼”ç¤º ğŸ¨                  â•‘
â•‘                   ç°ä»£åŒ–èµ›åšæœ‹å…‹é£æ ¼ç•Œé¢                      â•‘
â•‘                                                              â•‘
â•‘  ğŸŒŸ å…¨æ–°è§†è§‰è®¾è®¡    ğŸ¯ ç›´è§‚ç”¨æˆ·ä½“éªŒ    âš¡ æµç•…åŠ¨ç”»æ•ˆæœ        â•‘
â•‘  ğŸ¨ èµ›åšæœ‹å…‹ä¸»é¢˜    ğŸ“± å“åº”å¼å¸ƒå±€      ğŸ”¥ ç°ä»£åŒ–ç»„ä»¶          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    """
    print(banner)

def demo_ui_features():
    """æ¼”ç¤ºUIåŠŸèƒ½"""
    print("\nğŸ¨ === UI åŠŸèƒ½æ¼”ç¤º ===")
    
    # æ£€æŸ¥æœåŠ¡å™¨çŠ¶æ€
    try:
        response = requests.get('http://127.0.0.1:5000/api/targets', timeout=5)
        if response.status_code == 200:
            print("âœ… æœåŠ¡å™¨è¿è¡Œæ­£å¸¸")
        else:
            print(f"âš ï¸ æœåŠ¡å™¨å“åº”å¼‚å¸¸: {response.status_code}")
            return False
    except requests.exceptions.RequestException as e:
        print(f"âŒ æ— æ³•è¿æ¥åˆ°æœåŠ¡å™¨: {e}")
        return False
    
    print("\nğŸŒŸ æ–°UIç‰¹æ€§:")
    print("   â€¢ ğŸ¨ èµ›åšæœ‹å…‹é£æ ¼è®¾è®¡")
    print("   â€¢ ğŸŒˆ æ¸å˜è‰²å½©æ–¹æ¡ˆ")
    print("   â€¢ ğŸ’« æµç•…åŠ¨ç”»æ•ˆæœ")
    print("   â€¢ ğŸ“± å“åº”å¼å¸ƒå±€")
    print("   â€¢ ğŸ”¥ ç°ä»£åŒ–ç»„ä»¶")
    print("   â€¢ ğŸ¯ ç›´è§‚çš„ç”¨æˆ·ä½“éªŒ")
    
    print("\nğŸ›ï¸ ç•Œé¢ç»„ä»¶:")
    print("   â€¢ ğŸ§  æ™ºèƒ½å¯¼èˆªæ  - å¸¦å“ç‰Œæ ‡è¯†å’Œç”¨æˆ·èœå•")
    print("   â€¢ ğŸ“Š å®æ—¶ä»ªè¡¨æ¿ - ç³»ç»ŸçŠ¶æ€å’Œæ‰«æè¿›åº¦")
    print("   â€¢ ğŸ¯ ç›®æ ‡ç®¡ç† - å¡ç‰‡å¼ç›®æ ‡å±•ç¤º")
    print("   â€¢ ğŸ“ˆ è¿›åº¦å¯è§†åŒ– - ç°ä»£åŒ–è¿›åº¦æ¡")
    print("   â€¢ ğŸ” ç»“æœå±•ç¤º - ç¾è§‚çš„æ‰«æç»“æœ")
    print("   â€¢ ğŸ¨ æ¨¡æ€æ¡† - ç»ç’ƒæ€æ•ˆæœ")
    
    print("\nğŸ¨ è®¾è®¡äº®ç‚¹:")
    print("   â€¢ ğŸŒŒ æ·±è‰²ä¸»é¢˜ - æŠ¤çœ¼ä¸”ä¸“ä¸š")
    print("   â€¢ âœ¨ ç»ç’ƒæ€æ•ˆæœ - ç°ä»£æ¯›ç»ç’ƒèƒŒæ™¯")
    print("   â€¢ ğŸ­ æ‚¬åœåŠ¨ç”» - ä¸°å¯Œçš„äº¤äº’åé¦ˆ")
    print("   â€¢ ğŸª åŠ è½½åŠ¨ç”» - éª¨æ¶å±å’Œè¿›åº¦æŒ‡ç¤º")
    print("   â€¢ ğŸ¨ å›¾æ ‡ç³»ç»Ÿ - Font Awesome å›¾æ ‡åº“")
    print("   â€¢ ğŸ¯ çŠ¶æ€æŒ‡ç¤º - å½©è‰²å¾½ç« å’ŒçŠ¶æ€æ¡")
    
    return True

def add_demo_targets():
    """æ·»åŠ æ¼”ç¤ºç›®æ ‡"""
    print("\nğŸ¯ === æ·»åŠ æ¼”ç¤ºç›®æ ‡ ===")
    
    demo_targets = [
        {
            "name": "æ¼”ç¤ºç½‘ç«™",
            "url": "httpbin.org",
            "type": "website",
            "tags": ["æ¼”ç¤º", "æµ‹è¯•"]
        },
        {
            "name": "æœ¬åœ°æœåŠ¡",
            "url": "127.0.0.1",
            "type": "network",
            "tags": ["æœ¬åœ°", "å¼€å‘"]
        }
    ]
    
    for target in demo_targets:
        try:
            response = requests.post(
                'http://127.0.0.1:5000/api/targets',
                json=target,
                headers={'Content-Type': 'application/json'},
                timeout=5
            )
            
            if response.status_code == 200:
                result = response.json()
                if result.get('status') == 'success':
                    print(f"   âœ… å·²æ·»åŠ ç›®æ ‡: {target['name']}")
                else:
                    print(f"   âš ï¸ æ·»åŠ å¤±è´¥: {target['name']}")
            else:
                print(f"   âŒ HTTPé”™è¯¯: {response.status_code}")
                
        except requests.exceptions.RequestException as e:
            print(f"   âŒ ç½‘ç»œé”™è¯¯: {e}")
    
    time.sleep(1)

def open_browser_with_instructions():
    """æ‰“å¼€æµè§ˆå™¨å¹¶æ˜¾ç¤ºä½¿ç”¨è¯´æ˜"""
    print("\nğŸŒ === æ‰“å¼€æµè§ˆå™¨ ===")
    
    try:
        webbrowser.open('http://127.0.0.1:5000')
        print("âœ… æµè§ˆå™¨å·²æ‰“å¼€")
        
        print("\nğŸ“– ä½¿ç”¨è¯´æ˜:")
        print("   1. ğŸ¨ æ¬£èµæ–°çš„èµ›åšæœ‹å…‹é£æ ¼ç•Œé¢")
        print("   2. ğŸ¯ æŸ¥çœ‹å·¦ä¾§çš„ç›®æ ‡ç®¡ç†é¢æ¿")
        print("   3. ğŸ“Š è§‚å¯Ÿå³ä¾§çš„æ‰«æä»ªè¡¨æ¿")
        print("   4. â• ç‚¹å‡»'æ·»åŠ ç›®æ ‡'æŒ‰é’®ä½“éªŒæ–°çš„æ¨¡æ€æ¡†")
        print("   5. â–¶ï¸ ç‚¹å‡»ç›®æ ‡æ—çš„æ’­æ”¾æŒ‰é’®å¯åŠ¨æ‰«æ")
        print("   6. ğŸ“ˆ è§‚å¯Ÿæ‰«æè¿›åº¦çš„åŠ¨ç”»æ•ˆæœ")
        print("   7. ğŸ” æŸ¥çœ‹æ‰«æç»“æœçš„ç¾è§‚å±•ç¤º")
        print("   8. ğŸ§­ å°è¯•åˆ‡æ¢ä¸åŒçš„å¯¼èˆªæ ‡ç­¾")
        
        return True
        
    except Exception as e:
        print(f"âŒ æ‰“å¼€æµè§ˆå™¨å¤±è´¥: {e}")
        print("   è¯·æ‰‹åŠ¨è®¿é—®: http://127.0.0.1:5000")
        return False

def show_ui_comparison():
    """æ˜¾ç¤ºUIå¯¹æ¯”"""
    print("\nğŸ“Š === UI å‡çº§å¯¹æ¯” ===")
    
    comparison = """
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      åŠŸèƒ½ç‰¹æ€§       â”‚      æ—§ç‰ˆæœ¬ v1.0    â”‚      æ–°ç‰ˆæœ¬ v2.0    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ¨ è§†è§‰è®¾è®¡         â”‚ åŸºç¡€Bootstrapæ ·å¼   â”‚ èµ›åšæœ‹å…‹é£æ ¼ä¸»é¢˜    â”‚
â”‚ ğŸŒˆ è‰²å½©æ–¹æ¡ˆ         â”‚ é»˜è®¤è“ç™½é…è‰²        â”‚ æ¸å˜è‰²+éœ“è™¹æ•ˆæœ     â”‚
â”‚ ğŸ’« åŠ¨ç”»æ•ˆæœ         â”‚ æ— åŠ¨ç”»              â”‚ æµç•…è¿‡æ¸¡åŠ¨ç”»        â”‚
â”‚ ğŸ“± å“åº”å¼è®¾è®¡       â”‚ åŸºç¡€å“åº”å¼          â”‚ å®Œå…¨å“åº”å¼å¸ƒå±€      â”‚
â”‚ ğŸ¯ ç”¨æˆ·ä½“éªŒ         â”‚ åŠŸèƒ½æ€§ç•Œé¢          â”‚ æ²‰æµ¸å¼ä½“éªŒ          â”‚
â”‚ ğŸ”¥ ç°ä»£åŒ–ç¨‹åº¦       â”‚ ä¼ ç»ŸWebç•Œé¢         â”‚ ç°ä»£åŒ–åº”ç”¨ç•Œé¢      â”‚
â”‚ ğŸª äº¤äº’åé¦ˆ         â”‚ åŸºç¡€ç‚¹å‡»åé¦ˆ        â”‚ ä¸°å¯Œæ‚¬åœåŠ¨ç”»        â”‚
â”‚ ğŸ¨ ç»„ä»¶è®¾è®¡         â”‚ æ ‡å‡†HTMLç»„ä»¶        â”‚ è‡ªå®šä¹‰ç¾åŒ–ç»„ä»¶      â”‚
â”‚ ğŸ“Š æ•°æ®å¯è§†åŒ–       â”‚ ç®€å•è¡¨æ ¼å±•ç¤º        â”‚ å¡ç‰‡å¼æ•°æ®å±•ç¤º      â”‚
â”‚ ğŸŒŸ æ•´ä½“è¯„åˆ†         â”‚ â­â­â­              â”‚ â­â­â­â­â­          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    """
    print(comparison)

def main():
    """ä¸»å‡½æ•°"""
    print_ui_banner()
    
    # æ¼”ç¤ºUIåŠŸèƒ½
    if not demo_ui_features():
        print("\nâŒ æœåŠ¡å™¨æœªè¿è¡Œï¼Œè¯·å…ˆå¯åŠ¨æœåŠ¡å™¨:")
        print("   python3 start_server.py")
        return
    
    # æ˜¾ç¤ºUIå¯¹æ¯”
    show_ui_comparison()
    
    # æ·»åŠ æ¼”ç¤ºç›®æ ‡
    add_demo_targets()
    
    # æ‰“å¼€æµè§ˆå™¨
    if open_browser_with_instructions():
        print("\nğŸ‰ UIæ¼”ç¤ºå‡†å¤‡å®Œæˆï¼")
        print("\nğŸ’¡ æç¤º:")
        print("   â€¢ ç•Œé¢é‡‡ç”¨æ·±è‰²ä¸»é¢˜ï¼Œé€‚åˆé•¿æ—¶é—´ä½¿ç”¨")
        print("   â€¢ æ‰€æœ‰äº¤äº’å…ƒç´ éƒ½æœ‰æ‚¬åœæ•ˆæœ")
        print("   â€¢ æ‰«æè¿›åº¦æœ‰å®æ—¶åŠ¨ç”»æ˜¾ç¤º")
        print("   â€¢ æ”¯æŒé”®ç›˜å¿«æ·é”®æ“ä½œ")
        print("   â€¢ å®Œå…¨å“åº”å¼ï¼Œæ”¯æŒç§»åŠ¨è®¾å¤‡")
        
        print("\nğŸ”§ æŠ€æœ¯ç‰¹æ€§:")
        print("   â€¢ CSS3 æ¸å˜å’ŒåŠ¨ç”»")
        print("   â€¢ ç»ç’ƒæ€æ¯›ç»ç’ƒæ•ˆæœ")
        print("   â€¢ Font Awesome å›¾æ ‡åº“")
        print("   â€¢ Bootstrap 5 ç»„ä»¶")
        print("   â€¢ ç°ä»£JavaScript ES6+")
        
        print("\nâŒ¨ï¸ å¿«æ·æ“ä½œ:")
        print("   â€¢ Ctrl+R: åˆ·æ–°é¡µé¢")
        print("   â€¢ F12: å¼€å‘è€…å·¥å…·")
        print("   â€¢ Ctrl+Shift+I: æ£€æŸ¥å…ƒç´ ")
        
        print(f"\nğŸŒ è®¿é—®åœ°å€: http://127.0.0.1:5000")
        print("ğŸ¨ äº«å—å…¨æ–°çš„CyMindç•Œé¢ä½“éªŒï¼")
    
    else:
        print("\nâš ï¸ è¯·æ‰‹åŠ¨æ‰“å¼€æµè§ˆå™¨è®¿é—®ç•Œé¢")

if __name__ == "__main__":
    main()